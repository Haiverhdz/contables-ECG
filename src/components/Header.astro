---
import '../styles/global.css';

const currentPath = Astro.url.pathname;
---

<header class="bg-blue-600 text-white fixed top-0 left-0 w-full z-50 shadow-md">
  <div class="max-w-6xl mx-auto flex justify-between items-center px-4 py-2">
    <a href="/" class="flex items-center space-x-3">
      <img src="/images/logo.png" alt="Logo Contables ECG" class="h-16 w-38 rounded-lg shadow-md object-cover"/>
      <span class="sr-only">Contadur√≠a XYZ</span>
    </a>

    <button id="menu-button" class="md:hidden flex items-center px-3 py-2 border rounded text-white border-white">
      <svg class="fill-current h-5 w-5" viewBox="0 0 20 20">
        <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/>
      </svg>
    </button>

    <nav class="hidden md:flex items-center space-x-4">
      <a href="/" class={`px-3 py-2 transition-colors ${currentPath === '/' ? 'text-blue-800 font-semibold' : 'text-white'} border-r border-white/30 last:border-r-0`}>Inicio</a>
      <a href="/servicios" class={`px-3 py-2 transition-colors ${currentPath === '/servicios' ? 'text-blue-800 font-semibold' : 'text-white'} border-r border-white/30 last:border-r-0`}>Servicios</a>
      <a href="/nosotros" class={`px-3 py-2 transition-colors ${currentPath === '/nosotros' ? 'text-blue-800 font-semibold' : 'text-white'} border-r border-white/30 last:border-r-0`}>Nosotros</a>
      <a href="/contacto" class={`px-3 py-2 transition-colors ${currentPath === '/contacto' ? 'text-blue-800 font-semibold' : 'text-white'} border-r border-white/30 last:border-r-0`}>Contacto</a>
      <a href="/herramientas" class={`px-3 py-2 transition-colors ${currentPath === '/herramientas' ? 'text-blue-800 font-semibold' : 'text-white'} border-r border-white/30 last:border-r-0`}>Herramientas</a>
    </nav>
  </div>
  
  <div id="mobile-menu" class="md:hidden absolute top-full left-0 w-full overflow-hidden max-h-0 transition-[max-height] duration-300 ease-in-out bg-blue-700">
    <nav class="flex flex-col space-y-2 p-4">
      <a href="/" class={`px-3 py-2 rounded-md transition-colors ${currentPath === '/' ? 'bg-yellow-100 text-blue-800' : 'hover:bg-blue-800'}`}>Inicio</a>
      <a href="/servicios" class={`px-3 py-2 rounded-md transition-colors ${currentPath === '/servicios' ? 'bg-yellow-100 text-blue-800' : 'hover:bg-blue-800'}`}>Servicios</a>
      <a href="/nosotros" class={`px-3 py-2 rounded-md transition-colors ${currentPath === '/nosotros' ? 'bg-yellow-100 text-blue-800' : 'hover:bg-blue-800'}`}>Nosotros</a>
      <a href="/contacto" class={`px-3 py-2 rounded-md transition-colors ${currentPath === '/contacto' ? 'bg-yellow-100 text-blue-800' : 'hover:bg-blue-800'}`}>Contacto</a>
      <a href="/herramientas" class={`px-3 py-2 rounded-md transition-colors ${currentPath === '/herramientas' ? 'bg-yellow-100 text-blue-800' : 'hover:bg-blue-800'}`}>Herramientas</a>
    </nav>
  </div>
</header>

<div class="pt-20">

</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const button = document.getElementById('menu-button');
    const menu = document.getElementById('mobile-menu');

    button?.addEventListener('click', () => {
      if (menu.classList.contains('max-h-0')) {
        menu.style.maxHeight = menu.scrollHeight + "px"; 
        menu.classList.remove('max-h-0');
      } else {
        menu.style.maxHeight = "0px";
        menu.classList.add('max-h-0');
      }
    });
  });
</script>
